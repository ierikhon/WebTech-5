extends layout

block content
    div(align='center')
        div(class='w3-container w3-green w3-margin-bottom')
            h3
                if (book["name"] && book["author"])
                    div Name:
                    b=" " + book["name"] + " "
                    div Author
                    b=" " + book["author"]
                else
                    span Add book
        button(class='w3-btn w3-ripple w3-green', onclick="document.getElementById('reader_dialog_r').style.display = 'block'") Show Reader Info
        form(class='w3-border w3-margin' style="width:50%")
            div(class='w3-container w3-green w3-margin-bottom') Edit book info
            div(class='w3-container')
                b Author
                input(id ='author_input', class='w3-input', type='text', value=book["author"])
                b Name
                input(id = 'name_input', class='w3-input', type='text', value=book["name"])
                b Date of Release
                input(id = 'date_input', class='w3-input', type='date', value=book["datarel"])
                b In stock
                input(id = 'stock_input', class='w3-input', type='text', value=book["stock"], disabled='true')

        div(class='w3-modal w3-container', id="reader_dialog_")
            div(class='w3-modal-content')
                span(onclick='document.getElementById("reader_dialog_").style.display="none"', class='w3-button w3-display-topright') &times
                div(class='w3-panel')
                    form
                        div(class='w3-container w3-margin-bottom')
                            h4 Add reader
                        div(class='w3-container')
                            b Name
                            input(id='reader_name', class='w3-input', type='name')
                            b Date of return
                            input(id='return_date', class='w3-input', type='date')
                            button(class='w3-btn w3-ripple w3-green w3-margin') Give book to the Reader

        div(class='w3-modal w3-container', id="reader_dialog_r")
            div(class='w3-modal-content')
                span(onclick='document.getElementById("reader_dialog_r").style.display="none"', class='w3-button w3-display-topright') &times
                if(book["stock"] === "No")
                    p taken by:
                    b=" " + book["taken['pers']"]
                    p at:
                    b=" " + book["taken['date']"]
                else
                    div No readers yet

    div(class='w3-display-container' style='width:100%; height:50px')
        div(class='w3-display-left w3-margin')
            button(class='w3-btn w3-ripple w3-green', onclick="document.getElementById('reader_dialog_').style.display = 'block'") Give Book
            button(class='w3-btn w3-ripple w3-green') Return Book
        div(class='w3-display-middle')
            button(class='w3-btn w3-ripple w3-green') Save Info
            button(class='w3-btn w3-ripple w3-red') Delete Book
