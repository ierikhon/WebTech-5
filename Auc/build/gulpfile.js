"use strict";var gulp=require("gulp4"),less=require("gulp-less"),babel=require("gulp-babel"),rename=require("gulp-rename"),pug=require("gulp-pug"),cleanCSS=require("gulp-clean-css"),minify=require("gulp-uglify"),cleanHTML=require("gulp-minify-html"),del=require("del"),clean=function(){return del(["build"])},styles=function(){return gulp.src("./stylesheets/*.less").pipe(less()).pipe(cleanCSS()).pipe(rename({dirname:"css",suffix:".min"})).pipe(gulp.dest("build/"))},code=function(){return gulp.src("./javascripts/*.js ").pipe(babel({presets:["@babel/env"]})).pipe(minify()).pipe(rename({dirname:"javascripts"})).pipe(gulp.dest("build/"))},routes=function(){return gulp.src("./routes/*.js ").pipe(babel({presets:["@babel/env"]})).pipe(minify()).pipe(rename({})).pipe(gulp.dest("build/"))},core=function(){return gulp.src("./*.js ").pipe(babel({presets:["@babel/env"]})).pipe(minify()).pipe(gulp.dest("build/"))},views=function(){return gulp.src("./views/*.pug").pipe(pug()).pipe(cleanHTML()).pipe(rename({dirname:"html"})).pipe(gulp.dest("build/"))},data=function(){return gulp.src("data/**").pipe(gulp.dest("build/data/"))},ssl=function(){return gulp.src("ssl/**").pipe(gulp.dest("build/ssl/"))};gulp.task("clean",gulp.series(clean)),gulp.task("build",gulp.parallel(styles,code,routes,core,views,data,ssl)),gulp.task("default",gulp.series("clean","build"));